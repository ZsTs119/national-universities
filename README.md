# ä¸­å›½å¤§å­¦æ•°æ®åº“ (china-university-database)

<div align="center">
  
![Python](https://img.shields.io/badge/Python-3.x-blue)
![Scrapy](https://img.shields.io/badge/Scrapy-2.x-green)
![Baidu API](https://img.shields.io/badge/Baidu_Map-API-red)
![JSON](https://img.shields.io/badge/Data_Format-JSON-orange)
![Schools](https://img.shields.io/badge/Schools-Nationwide-yellow)

</div>

> **åŸºäºç™¾åº¦åœ°å›¾ API çš„å…¨å›½é«˜æ ¡æ•°æ®é›†ï¼ŒåŒ…å«åœ°ç†ä½ç½®ã€çœå¸‚åŒºç­‰å®Œæ•´ä¿¡æ¯ï¼Œæ”¯æŒå¼€å‘è€…è½»æ¾é›†æˆã€‚**

## é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªæ”¶é›†å’Œæ•´ç†å…¨å›½å„çœä»½å­¦æ ¡ï¼ˆä¸»è¦æ˜¯å¤§å­¦å’Œä¸­å°å­¦ï¼‰æ•°æ®çš„å·¥å…·é›†ã€‚é¡¹ç›®åŸºäºç™¾åº¦åœ°å›¾ APIï¼Œèƒ½å¤Ÿæ£€ç´¢å¹¶ä¿å­˜å…¨å›½å„åœ°åŒºçš„å­¦æ ¡æ•°æ®ï¼Œæ”¯æŒæŒ‰çœä»½è¿›è¡Œæ•°æ®ç­›é€‰å’Œæ•´ç†ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- åŸºäºç™¾åº¦åœ°å›¾ API è‡ªåŠ¨æ”¶é›†å…¨å›½å„åœ°åŒºå­¦æ ¡ä¿¡æ¯
- æ”¯æŒæ•°æ®è¿‡æ»¤ï¼Œå‰”é™¤æ— å…³ä¿¡æ¯
- æä¾›æŒ‰çœä»½åˆ†ç±»çš„å­¦æ ¡æ•°æ®
- æ•°æ®æ ¼å¼ä¸º JSONï¼Œæ–¹ä¾¿å¼€å‘è€…ä½¿ç”¨å’Œé›†æˆ
- åŒ…å«å­¦æ ¡åç§°ã€çœä»½ã€åŸå¸‚ã€åŒºåŸŸã€åœ°ç†ä½ç½®å’Œè¯¦ç»†åœ°å€ç­‰ä¿¡æ¯

## é¡¹ç›®ç»“æ„

```
NationalUniversitiesJson/
â”œâ”€â”€ public/                      # æ•´ç†åçš„æ•°æ®æ–‡ä»¶
â”‚   â”œâ”€â”€ areas.json               # ä¸­å›½è¡Œæ”¿åŒºåˆ’æ•°æ®
â”‚   â”œâ”€â”€ å¤§å­¦.json                # å…¨å›½å¤§å­¦æ•°æ®
â”‚   â””â”€â”€ ä¸­å°å­¦.json              # å…¨å›½ä¸­å°å­¦æ•°æ®
â””â”€â”€ universityCollecter/         # æ•°æ®é‡‡é›†å·¥å…·
    â”œâ”€â”€ spiders/                 # çˆ¬è™«æ¨¡å—
    â”‚   â””â”€â”€ spider.py            # ä¸»çˆ¬è™«ç¨‹åºï¼ŒåŸºäºç™¾åº¦åœ°å›¾APIæ”¶é›†æ•°æ®
    â”œâ”€â”€ dataHandle.py            # æ•°æ®å¤„ç†æ¨¡å—ï¼Œç”¨äºç­›é€‰å’Œæ•´ç†æ•°æ®
    â”œâ”€â”€ areas.json               # è¡Œæ”¿åŒºåˆ’æ•°æ®ï¼ˆçˆ¬è™«ä½¿ç”¨ï¼‰
    â”œâ”€â”€ settings.py              # çˆ¬è™«é…ç½®æ–‡ä»¶
    â”œâ”€â”€ items.py                 # æ•°æ®é¡¹å®šä¹‰
    â”œâ”€â”€ middlewares.py           # ä¸­é—´ä»¶é…ç½®
    â”œâ”€â”€ pipelines.py             # æ•°æ®å¤„ç†ç®¡é“
    â””â”€â”€ scrapy.cfg               # Scrapyé…ç½®æ–‡ä»¶
```

## æ•°æ®æ ¼å¼

å­¦æ ¡æ•°æ® JSON æ ¼å¼ç¤ºä¾‹ï¼š

```json
[
  {
    "name": "æ¸…åå¤§å­¦", // å­¦æ ¡åç§°
    "province": "åŒ—äº¬å¸‚", // æ‰€åœ¨çœä»½
    "city": "åŒ—äº¬å¸‚", // æ‰€åœ¨åŸå¸‚
    "area": "æµ·æ·€åŒº", // æ‰€åœ¨åŒºåŸŸ
    "location": {
      // åœ°ç†åæ ‡
      "lat": 40.00359,
      "lng": 116.32142
    },
    "address": "åŒ—äº¬å¸‚æµ·æ·€åŒºæ¸…åå›­" // è¯¦ç»†åœ°å€
  }
  // æ›´å¤šå­¦æ ¡æ•°æ®...
]
```

## ä½¿ç”¨è¯´æ˜

### æ•°æ®é‡‡é›†

1. å®‰è£…ä¾èµ–ï¼š

   ```bash
   pip install scrapy requests
   ```

2. é…ç½®ç™¾åº¦åœ°å›¾ APIï¼š

   - åœ¨ [ç™¾åº¦åœ°å›¾å¼€æ”¾å¹³å°](http://lbsyun.baidu.com/apiconsole/key/create) ç”³è¯·å¼€å‘è€…å¯†é’¥(AK)
   - å°†è·å–çš„ AK æ›¿æ¢åˆ° `universityCollecter/spiders/spider.py` æ–‡ä»¶ä¸­çš„ `ak` å‚æ•°

3. è¿è¡Œçˆ¬è™«æ”¶é›†æ•°æ®ï¼š

   ```bash
   cd universityCollecter
   scrapy runspider universityCollecter/spiders/spider.py
   ```

   çˆ¬è™«å‚æ•°è¯´æ˜ï¼š

   - `ak`: ç™¾åº¦åœ°å›¾å¼€å‘è€…å¯†é’¥
   - `file_name`: ä¿å­˜çš„æ–‡ä»¶å
   - API å‚æ•°å¯å‚è€ƒ[ç™¾åº¦åœ°å›¾å¼€å‘æ–‡æ¡£](https://lbsyun.baidu.com/faq/api?title=webapi/guide/webservice-placeapi/district)

### æ•°æ®å¤„ç†

è¿è¡Œæ•°æ®å¤„ç†è„šæœ¬ï¼ŒæŒ‰çœä»½ç­›é€‰å’Œæ•´ç†æ•°æ®ï¼š

```bash
python universityCollecter/dataHandle.py
```

æ•°æ®å¤„ç†å‚æ•°è¯´æ˜ï¼š

- `search`: ç­›é€‰çš„å­—æ®µåï¼Œå¯æ ¹æ®éœ€è¦ä¿®æ”¹
- å¤„ç†åçš„æ•°æ®å°†æŒ‰çœä»½ä¿å­˜ä¸ºç‹¬ç«‹çš„ JSON æ–‡ä»¶

## å¼€å‘è®¡åˆ’

- [ ] å¢åŠ æ›´å¤šè¿‡æ»¤æ¡ä»¶å’Œæ•°æ®å­—æ®µ
- [ ] æä¾› Web ç•Œé¢è¿›è¡Œæ•°æ®å¯è§†åŒ–
- [ ] æ”¯æŒæ›´å¤šæ•°æ®æºå’Œ API é›†æˆ
- [ ] å®Œå–„æ•°æ®åˆ†ç±»å’Œæ ‡ç­¾ç³»ç»Ÿ

## é—®é¢˜åé¦ˆ

åœ¨ä½¿ç”¨ä¸­æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åé¦ˆï¼š

- é‚®ä»¶ï¼šzsts@foxmail.com
- GitHub Issues

## æåŠ©æ”¯æŒ

åœ¨å…´è¶£çš„é©±åŠ¨ä¸‹ï¼Œæˆ‘åˆ›å»ºäº†è¿™ä¸ªå…è´¹çš„å·¥å…·ã€‚å¦‚æœæ‚¨è§‰å¾—å®ƒå¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ï¼Œæ¬¢è¿ç»™äºˆæ”¯æŒå’Œé¼“åŠ±ï¼

## å…³äºä½œè€…

```javascript
var ihubo = {
  nickName: "ZsTs119",
  site: "https://github.com/ZsTs119",
};
```

## è®¸å¯è¯

MIT

## ğŸ‘¨â€ğŸ’» ä½œè€…

- ZsTs119
- Email: zsts@foxmail.com
- GitHub: https://github.com/ZsTs119
